{"version":3,"file":"main_profile.js","sources":["pages/main_profile/main_profile.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWFpbl9wcm9maWxlL21haW5fcHJvZmlsZS52dWU"],"sourcesContent":["<template>\n  <view class=\"main-container\">\n    <!-- 个人信息卡片 -->\n    <view \n      class=\"mymessage-card\" \n      @click=\"topage('/pages/profileset/profileset')\"\n      @touchstart=\"touchStart\"\n      @touchend=\"touchEnd\"\n      :style=\"cardScale\"\n    >\n      <image \n        class=\"headimg\"\n        :src=\"headimgpth\"\n        mode=\"aspectFill\"\n      />\n      <view class=\"info-wrapper\">\n        <text class=\"nickname\">{{ nickname }}</text>\n        <text class=\"uid\">UID: {{ uid || '--' }}</text>\n      </view>\n      <uni-icons \n        type=\"forward\" \n        size=\"20\" \n        color=\"#999\" \n        class=\"arrow-icon\"\n      />\n    </view>\n\t<view class=\"section\">\r\n\t\t<view class=\"section-title\">服务功能</view>\r\n\t\t<view class=\"list\">\r\n\t\t\t<view \r\n\t\t\t  v-for=\"(item,index) in services\" \r\n\t\t\t  :key=\"index\"\r\n\t\t\t  class=\"list-item\"\r\n\t\t\t  @click=\"handleSetting(item)\"\r\n\t\t\t>\r\n\t\t\t\t<view class=\"item-left\">\r\n\t\t\t\t  <uni-icons \r\n\t\t\t\t    :type=\"item.icon\" \r\n\t\t\t\t    size=\"20\" \r\n\t\t\t\t    :color=\"item.color\"\r\n\t\t\t\t  />\r\n\t\t\t\t  <text class=\"item-label\">{{ item.label }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<uni-icons \r\n\t\t\t\t  type=\"forward\" \r\n\t\t\t\t  size=\"16\" \r\n\t\t\t\t  color=\"#ccc\"\r\n\t\t\t\t/>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\n\n    <!-- 设置列表 -->\n    <view class=\"section\">\n      <view class=\"section-title\">账户设置</view>\n      <view class=\"list\">\n        <view \n          v-for=\"(item, index) in settings\"\n          :key=\"index\"\n          class=\"list-item\"\n          @click=\"handleSetting(item)\"\n        >\n          <view class=\"item-left\">\n            <uni-icons \n              :type=\"item.icon\" \n              size=\"20\" \n              :color=\"item.color\"\n            />\n            <text class=\"item-label\">{{ item.label }}</text>\n          </view>\n          <uni-icons \n            type=\"forward\" \n            size=\"16\" \n            color=\"#ccc\"\n          />\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, reactive } from 'vue'\n//import UniIcons from '/uni_modules/uni-icons/components/uni-icons/uni-icons.vue'\r\nimport uniIconsVue from '../../uni_modules/uni-icons/components/uni-icons/uni-icons.vue'\r\nimport { storeToRefs } from 'pinia'\nimport { useUserStore } from '../../store/useUserStore'\r\n\r\nconst userStore = useUserStore()\nconst { displayName, formattedJoinDate } = storeToRefs(userStore)\r\nconst { currentUser, defaultAvatars, meta } = storeToRefs(userStore)\r\n\n// 响应式数据\nconst headimgpth = ref('/static/OIP-C.jpg')\nconst nickname = ref('点击登录')\nconst uid = ref(null)\nconst isTouching = ref(false)\n\n// 触摸动画处理\nconst cardScale = reactive({\n  transform: 'scale(1)',\n  transition: 'transform 0.1s ease'\n})\n\n// 服务数据\nconst services = reactive([\n  { icon: 'location', color: '#4caf50', label: '123',path:'' },\n  { icon: 'help', color: '#2196f3', label: '帮助中心' ,path:''}\n])\n\n// 设置数据\nconst settings = reactive([\n  { icon: 'gear', color: '#666', label: '账户安全', path: '/pages/security' },\n  { icon: 'notification', color: '#666', label: '消息通知', path: '/pages/notify' },\n  { icon: 'clear', color: '#666', label: '清理缓存', action: 'clearCache' }\n])\n\n// 方法\nconst topage = (url) => {\n  uni.navigateTo({ url })\n}\n\nconst touchStart = () => {\n  isTouching.value = true\n  cardScale.transform = 'scale(0.98)'\n}\n\nconst touchEnd = () => {\n  isTouching.value = false\n  cardScale.transform = 'scale(1)'\n}\n\nconst handleSetting = (item) => {\n  if (item.path) {\n    uni.navigateTo({ url: item.path })\n  } else if (item.action === 'clearCache') {\n    uni.showModal({\n      title: '提示',\n      content: '确定要清除缓存吗？',\n      success: (res) => {\n        if (res.confirm) {\n          // 执行清除缓存逻辑\n        }\n      }\n    })\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.main-container {\n  padding: 24rpx;\n  background-color: #f5f7fa;\n  min-height: 100vh;\n}\n\n.mymessage-card {\n  background: #fff;\n  border-radius: 16rpx;\n  padding: 32rpx;\n  margin-bottom: 24rpx;\n  display: flex;\n  align-items: center;\n  position: relative;\n  box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.05);\n\n  .headimg {\n    width: 145rpx;\n    height: 145rpx;\n    border-radius: 35rpx;\n    margin-right: 32rpx;\n    border: 2rpx solid #f0f0f0;\n  }\n\n  .info-wrapper {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    .nickname {\n      font-size: 36rpx;\n      font-weight: 500;\n      color: #333;\n      margin-bottom: 12rpx;\n    }\n\n    .uid {\n      font-size: 28rpx;\n      color: #999;\n    }\n  }\n\n  .arrow-icon {\n    margin-left: auto;\n  }\n}\n\n\n.section {\n  background: #fff;\n  border-radius: 16rpx;\n  padding: 0 24rpx;\n  margin-bottom: 12rpx;\n  .section-title {\n    font-size: 32rpx;\n    font-weight: 500;\n    color: #333;\n    padding: 24rpx 0;\n    border-bottom: 1rpx solid #eee;\n  }\n\n  .list {\n    .list-item {\n      padding: 32rpx 0;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      border-bottom: 1rpx solid #eee;\n\n      &:last-child {\n        border-bottom: none;\n      }\n\n      .item-left {\n        display: flex;\n        align-items: center;\n\n        .item-label {\n          font-size: 30rpx;\n          color: #333;\n          margin-left: 24rpx;\n        }\n      }\n    }\n  }\n}\r\n\n</style>","import MiniProgramPage from 'E:/university_learn/大创/Main_page/pages/main_profile/main_profile.vue'\nwx.createPage(MiniProgramPage)"],"names":["useUserStore","storeToRefs","ref","reactive","uni"],"mappings":";;;;;;;;;;;;;;AAwFA,UAAM,YAAYA,mBAAAA,aAAc;AACWC,kBAAW,YAAC,SAAS;AAClBA,kBAAW,YAAC,SAAS;AAGnE,UAAM,aAAaC,cAAG,IAAC,mBAAmB;AAC1C,UAAM,WAAWA,cAAG,IAAC,MAAM;AAC3B,UAAM,MAAMA,cAAG,IAAC,IAAI;AACpB,UAAM,aAAaA,cAAG,IAAC,KAAK;AAG5B,UAAM,YAAYC,cAAAA,SAAS;AAAA,MACzB,WAAW;AAAA,MACX,YAAY;AAAA,IACd,CAAC;AAGD,UAAM,WAAWA,cAAAA,SAAS;AAAA,MACxB,EAAE,MAAM,YAAY,OAAO,WAAW,OAAO,OAAM,MAAK,GAAI;AAAA,MAC5D,EAAE,MAAM,QAAQ,OAAO,WAAW,OAAO,QAAQ,MAAK,GAAE;AAAA,IAC1D,CAAC;AAGD,UAAM,WAAWA,cAAAA,SAAS;AAAA,MACxB,EAAE,MAAM,QAAQ,OAAO,QAAQ,OAAO,QAAQ,MAAM,kBAAmB;AAAA,MACvE,EAAE,MAAM,gBAAgB,OAAO,QAAQ,OAAO,QAAQ,MAAM,gBAAiB;AAAA,MAC7E,EAAE,MAAM,SAAS,OAAO,QAAQ,OAAO,QAAQ,QAAQ,aAAc;AAAA,IACvE,CAAC;AAGD,UAAM,SAAS,CAAC,QAAQ;AACtBC,0BAAI,WAAW,EAAE,KAAK;AAAA,IACxB;AAEA,UAAM,aAAa,MAAM;AACvB,iBAAW,QAAQ;AACnB,gBAAU,YAAY;AAAA,IACxB;AAEA,UAAM,WAAW,MAAM;AACrB,iBAAW,QAAQ;AACnB,gBAAU,YAAY;AAAA,IACxB;AAEA,UAAM,gBAAgB,CAAC,SAAS;AAC9B,UAAI,KAAK,MAAM;AACbA,sBAAAA,MAAI,WAAW,EAAE,KAAK,KAAK,KAAI,CAAE;AAAA,MACrC,WAAa,KAAK,WAAW,cAAc;AACvCA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,SAAS;AAAA,UACT,SAAS,CAAC,QAAQ;AAChB,gBAAI,IAAI;AAAS;AAAA,UAGlB;AAAA,QACP,CAAK;AAAA,MACF;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjJA,GAAG,WAAW,eAAe;"}