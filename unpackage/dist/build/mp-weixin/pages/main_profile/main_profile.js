"use strict";const e=require("../../common/vendor.js"),o=require("../../store/useUserStore.js");if(!Array){e.resolveComponent("uni-icons")()}Math;const a={__name:"main_profile",setup(a){const c=o.useUserStore();e.storeToRefs(c);const{currentUser:r,defaultAvatars:t,meta:l}=e.storeToRefs(c),s=e.ref("/static/OIP-C.jpg"),n=e.ref("点击登录"),i=e.ref(null),u=e.ref(!1);e.onMounted((()=>{r?(n.value=r.value.nickname,i.value=r.value.uid,s.value=t.value,console.log("update successfully")):console.log("unloggedin")}));const f=e.reactive({transform:"scale(1)",transition:"transform 0.1s ease"}),p=e.reactive([{icon:"location",color:"#4caf50",label:"123",path:""},{icon:"help",color:"#2196f3",label:"帮助中心",path:""}]),v=e.reactive([{icon:"gear",color:"#666",label:"账户安全",path:"/pages/security"},{icon:"notification",color:"#666",label:"消息通知",path:"/pages/notify"},{icon:"clear",color:"#666",label:"清理缓存",action:"clearCache"}]),d=()=>{u.value=!0,f.transform="scale(0.98)"},g=()=>{u.value=!1,f.transform="scale(1)"},h=o=>{o.path?e.index.navigateTo({url:o.path}):"clearCache"===o.action&&e.index.showModal({title:"提示",content:"确定要清除缓存吗？",success:e=>{e.confirm}})};return(o,a)=>({a:s.value,b:e.t(n.value),c:e.t(i.value||"--"),d:e.p({type:"forward",size:"20",color:"#999"}),e:e.o((o=>{return a="/pages/profileset/profileset",void e.index.navigateTo({url:a});var a})),f:e.o(d),g:e.o(g),h:e.s(f),i:e.f(p,((o,a,c)=>({a:"4a2c0c48-1-"+c,b:e.p({type:o.icon,size:"20",color:o.color}),c:e.t(o.label),d:"4a2c0c48-2-"+c,e:a,f:e.o((e=>h(o)),a)}))),j:e.p({type:"forward",size:"16",color:"#ccc"}),k:e.f(v,((o,a,c)=>({a:"4a2c0c48-3-"+c,b:e.p({type:o.icon,size:"20",color:o.color}),c:e.t(o.label),d:"4a2c0c48-4-"+c,e:a,f:e.o((e=>h(o)),a)}))),l:e.p({type:"forward",size:"16",color:"#ccc"})})}},c=e._export_sfc(a,[["__scopeId","data-v-4a2c0c48"]]);wx.createPage(c);
